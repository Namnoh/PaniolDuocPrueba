<!DOCTYPE html>
<html lang="es">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="%sveltekit.assets%/duoc-oscuro.ico" />
		<meta name="viewport" content="width=device-width" />
		<!-- BOOTSTRAP -->
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
			crossorigin="anonymous"
		/>
		<!-- FONT -->
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
			integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w=="
			crossorigin="anonymous"
			referrerpolicy="no-referrer"
		/>

		<title>Pañol Duoc</title>
		%sveltekit.head%
	</head>
	<body id="body" data-sveltekit-preload-data="hover">
		<div style="display: contents">%sveltekit.body%</div>

		<!-- POPPER JS -->
		<!-- https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js -->
		<!-- BOOTSTRAP JS -->
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
			integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
			crossorigin="anonymous"
		></script>
		<!-- <script src="../node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script> -->
		<script>
			// Función que se ejecutará cuando cambien las clases del body
			function handleBodyClassChange(mutationsList, observer) {
				for (let mutation of mutationsList) {
					if (mutation.target === document.body && mutation.attributeName === 'class') {
						const bodyClasses = document.body.classList;
						// console.log('Nuevas clases del body:', bodyClasses);
						const loop = bodyClasses.length;

						for (let i = 0; i < loop; i++) {
							var element = bodyClasses[i];
							if (element == "modal-open") {
								// console.log("Eliminando clase... " + element)
								const body = document.getElementById('body');
								body.classList.remove('modal-open');
								body.style.overflow = 'auto';
								body.style.padding= 0;
							}
						}
					}
				}
			}
			// Crear una instancia de MutationObserver
			const observer = new MutationObserver(handleBodyClassChange);

			// Configurar las opciones del observador
			const observerConfig = {
				attributes: true, // Observar cambios en los atributos
				attributeFilter: ['class'] // Observar solo cambios en la clase
			};

			// Observar los cambios en el body
			observer.observe(document.body, observerConfig);
		</script>
	</body>
</html>
